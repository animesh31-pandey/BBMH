
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BBMH (Brijesh Bangar Memorial Hospital)</title>
    <link rel="icon" href="https://m.media-amazon.com/images/I/61ae-mRACmL._AC_UF1000,1000_QL80_.jpg">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="appointment.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&amp;display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" />

</head>
<body>
    <div class="contact">
        <a href="/#" ><i class="fa-solid fa-phone"></i>+01-12424323</a>
        <a href="/#" ><i class="fa-solid fa-envelope"></i>BangarHospital@gamil.com</a></a>
        <div class="social">
            <a href="/#"></a>
            <div class="media">
                <a href="/#"><i class="fa-brands fa-facebook"></i></a>
            </div>
            <div class="media">
                <a href="/#"><i class="fa-brands fa-instagram"></i></a>
            </div>
        </div>
    </div>


    <div class="sticky-bar">
        
        <div class="menu">
            <!-- Navbar -->
            <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm sticky-top">
                <div class="container">
                    <a class="navbar-brand" href="#">
                        <img src="https://brijeshbangerhospital.com/images/vlogobg.png" alt="Logo" height="50">
                    </a>

                    <div class="hamburger">
                        <span class="bar"></span>
                        <span class="bar"></span>
                        <span class="bar"></span>
                    </div>

                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav ms-auto">
                            <li class="nav-item"><a class="nav-link active" href="/">Home</a></li>
                            <li class="nav-item dropdown">
                                <a   href="/aboutBBMH"  class="nav-link dropdown-toggle"id="aboutDropdown" role="button" data-bs-toggle="dropdown">About Us</a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="/aboutBBMH">About BBMH</a></li>
                                    <li><a class="dropdown-item" href="/empanelments">Empanelments</a></li>
                                    <li><a class="dropdown-item" href="/doct">Our Doctors</a></li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="/specialities" class="nav-link dropdown-toggle"  id="servicesDropdown" role="button" data-bs-toggle="dropdown">services</a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="/specialities">All Specilities</a></li>
                                        <li><a class="dropdown-item" href="/ent">ENT</a></li>
                                        <li><a class="dropdown-item" href="/Gynecology">Gynecology</a></li>
                                        <li><a class="dropdown-item" href="/Gastrology">Gastroenterology</a></li>
                                        <li><a class="dropdown-item" href="/Neurosurgery">Neurosurgery</a></li>
                                        <li><a class="dropdown-item" href="/JointReplacement">Joint Replacement</a></li>
                                        <li><a class="dropdown-item" href="/OrthoPedic">Orthopaedic</a></li>
                                        <li><a class="dropdown-item" href="/Plasticsurgery">Plastic Surgery</a></li>
                                        <li><a class="dropdown-item" href="/SportsInjuries">Sports Injury</a></li>
                                        <li><a class="dropdown-item" href="/Urology">Urology</a></li>
                                </ul>
                            </li>
                            <li class="nav-item"><a class="nav-link" href="/news">News & Media</a></li>
                            <li class="nav-item"><a class="nav-link" href="/blogs">Blogs</a></li>
                            <li class="nav-item"><a class="nav-link" href="/appointment">Contact Us</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
        <div class="icon">
            <a href="#"><img src="https://babajiayurveda.in/images/about-nabh.png" alt="Logo"></a>
        </div>
    </div>
    
    
    <div style="width: 80%; margin-left: 10vw; margin-top: 3vw;">
        <h1>Book Appointment</h1><br>

        
        <form method="POST" action="/appointments" class="row g-3 needs-validation" id="validationCustom002" novalidate>
            
        <div class="col-md-6">
                <label for="validationCustom002" class="form-label" for="disease">Department</label>
                <select class="form-select" name="appointment[department]" id="disease" required>
                    <option value="">Select Department</option> 
                    <option value="Urology">Urology</option>
                    <option value="Neuro">Neuro</option>
                    <option value="ENT">ENT</option>
                    <option value="Gynecology">Gynecology</option>
                    <option value="Gastroenterology">Gastroenterology</option>
                    <option value="Joint Replacement">Joint Replacement</option>
                    <option value="Orthopaedic">Orthopaedic</option>
                    <option value="Sports Injury">Sports Injury</option>
                    <option value="Plastic Surgery">Plastic Surgery</option>
                </select>
                <div class="invalid-feedback">Please select Department.</div>      
        </div>

        <div class="col-md-6">
        <label for="doctor" for="validationCustom002"  class="form-label">Select Doctor</label>
        <select class="form-select" name="appointment[doctor]" id="doctor"  onchange="fetchAvailability()" required>
            <option value="">Select Doctor</option>
        </select>
        <div class="invalid-feedback">Please select Doctor.</div>
        </div>
        

    <div class="col-md-6">
        <label for="availableDates" for="validationCustom002" class="form-label">Doctor Available Date</label>
            <select  class="form-select" name="appointment[availableDates]" id="availableDates" required>
            <option value="">Select Date</option>
        </select>
    </div>
        
    <div class="col-md-6">
        <lable for="availableTime" for="validationCustom002" class="form-label">Doctor Available Time</label>
        <select  class="form-select" name="appointment[availableTime]" id="availableTime" >
            <option value="">Select Time</option>
        </select>
    </div>

    
<div class="col-md-3">
    <label for="customTime" for="validationCustom002" class="form-label">Appointment Time</label>
    <select class="form-select" id="customTime" name="appointment[customTime]"  required>
        <option  value="">Select Hour</option>
        <option value="00:00">12 AM</option>
        <option value="01:00">1 AM</option>
        <option value="02:00">2 AM</option>
        <option value="03:00">3 AM</option>
        <option value="04:00">4 AM</option>
        <option value="05:00">5 AM</option>
        <option value="06:00">6 AM</option>
        <option value="07:00">7 AM</option>
        <option value="08:00">8 AM</option>
        <option value="09:00">9 AM</option>
        <option value="10:00">10 AM</option>
        <option value="11:00">11 AM</option>
        <option value="12:00">12 PM</option>
        <option value="13:00">1 PM</option>
        <option value="14:00">2 PM</option>
        <option value="15:00">3 PM</option>
        <option value="16:00">4 PM</option>
        <option value="17:00">5 PM</option>
        <option value="18:00">6 PM</option>
        <option value="19:00">7 PM</option>
        <option value="20:00">8 PM</option>
        <option value="21:00">9 PM</option>
        <option value="22:00">10 PM</option>
        <option value="23:00">11 PM</option>
    </select>
    <div class="invalid-feedback">Please select a valid time.</div>
</div>



        <div class="col-md-6">
            <label for="validationCustom001" class="form-label">Gender</label>
            <select class="form-select col-md-6" name="appointment[gender]" id="validationCustom001" aria-label="Default select example" required>
                <option value="">Open this select Gender</option>
                <option value="male">Male</option>
                <option value="female">female</option>
                <option value="transgender">transgender</option>
            </select>
        </div>    


        <!-- Disease Field (Required in Schema) -->
        <div class="col-md-6">
            <label for="disease" class="form-label">Disease</label>
            <input type="text" class="form-control" id="disease" name="appointment[disease]" >
            <div class="invalid-feedback">Please provide the disease information.</div>
        </div>

            <div class="col-md-4">
                <label for="validationCustom01" class="form-label">Patient Name</label>
                <input type="text" class="form-control" id="validationCustom01" name="appointment[patientName]" required>
                <div class="valid-feedback">Looks good!</div>
            </div>

            <div class="col-md-4">
                <label for="validationCustomUsername" class="form-label">Phone No.</label>
                <div class="input-group has-validation">
                    <input type="text" class="form-control" id="validationCustomUsername" name="appointment[phone]" maxlength="10" pattern="\d{10}" required>
                    <div class="invalid-feedback">Please enter a valid 10-digit phone number.</div>
                </div>
            </div>

            <div class="col-md-3">
                <label for="validationCustomUsername" class="form-label">Enter Age</label>
                <div class="input-group has-validation">
                    <input type="text" class="form-control" id="validationCustomUsername" name="appointment[age]" required>
                    <div class="invalid-feedback">Please enter a valid age.</div>
                </div>
            </div>

          

         
            <div class="col-12">
                <button class="btn btn-primary" type="submit">Submit form</button>
            </div>
        </form>
        <form action="/appointments">
            <button class="btn btn-success" type="submit">Your Appointment</button>
           </form>
    </div>
    <br><br><br><br><br>

        
        <script>
document.getElementById("disease").addEventListener("change", async function() {
    const department = this.value;
    
    try {
        const response = await fetch(`/doctors?department=${department}`); // ✅ Fetch doctors based on department
        if (!response.ok) throw new Error("Failed to fetch doctors");

        const doctors = await response.json();
        let doctorSelect = document.getElementById("doctor");
        doctorSelect.innerHTML = "<option selected disabled>Select a Doctor</option>"; // Reset options

        if (doctors.length === 0) {
            let option = document.createElement("option");
            option.disabled = true;
            option.textContent = "No doctors available";
            doctorSelect.appendChild(option);
        } else {
            doctors.forEach(doctor => {
                let option = document.createElement("option");
                option.value = doctor._id; // Use doctor ID for value
                option.textContent = doctor.name;
                doctorSelect.appendChild(option);
            });
        }
    } catch (error) {
        console.error("Error fetching doctors:", error);
    }
});


document.getElementById("doctor").addEventListener("change", async function() {
    const doctorId = this.value;

    try {
        const response = await fetch(`/doctor-schedule/${doctorId}`);
        if (!response.ok) throw new Error("Failed to fetch doctor schedule");

        const schedule = await response.json();
        console.log("🔹 Doctor Schedule:", schedule); // Debugging

        let dateSelect = document.getElementById("availableDates");
        let timeSelect = document.getElementById("availableTime");

        dateSelect.innerHTML = "<option selected disabled>Select a Date</option>"; // Reset
        timeSelect.innerHTML = "<option selected disabled>Select a Time</option>"; // Reset

        // ✅ Populate Available Dates (Ensure Correct Date Format)
        if (schedule.availableDates && schedule.availableDates.length > 0) {
            schedule.availableDates.forEach(date => {
                let formattedDate = new Date(date).toISOString().split("T")[0]; // ✅ Convert date
                console.log("✅ Adding Date:", formattedDate); // Debugging
                let option = document.createElement("option");
                option.value = formattedDate;
                option.textContent = formattedDate;
                dateSelect.appendChild(option);
            });
        } else {
            console.log("❌ No available dates found!");
            let option = document.createElement("option");
            option.disabled = true;
            option.textContent = "No available dates";
            dateSelect.appendChild(option);
        }

        // ✅ Populate Available Time Slots
        if (schedule.availableTime && schedule.availableTime.length > 0) {
            schedule.availableTime.forEach(timeSlot => {
                let option = document.createElement("option");
                option.value = timeSlot;
                option.textContent = timeSlot;
                timeSelect.appendChild(option);
            });
        } else {
            let option = document.createElement("option");
            option.disabled = true;
            option.textContent = "No available time slots";
            timeSelect.appendChild(option);
        }

    } catch (error) {
        console.error("❌ Error fetching doctor schedule:", error);
    }
});


</script> 

      
    <div class="footer">
        <h3>Our Insurance Partner</h3>
        <div class="moving-div">
            <div class="outer" style="height: 10vh;">
                <div class="move">
                    <img src="https://profitmust.com/wp-content/uploads/2021/07/Star-Health-IPO.jpg" alt="">
                    <img src="https://cdn.prod.website-files.com/6145f7156a1337613524d548/63208639822f976940a1f5e2_TPA__raksha%20TPA.png" alt="">
                    <img src="https://play-lh.googleusercontent.com/I5n8WLg0Ya40MTk010Ay5mhCi2jBjTGgnDjQ8OruRvpFSokomN27w0Rf9MJSzJkgYA" alt="">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/3/3e/HDFC-Ergo-logo.png" alt="">
                    <img src="https://media.licdn.com/dms/image/v2/C560BAQGAha_oBgKaDw/company-logo_200_200/company-logo_200_200/0/1631322330360?e=2147483647&v=beta&t=7mH7sBlar5PPhOJ0S43uOvJyqfzhWdJV7yVEXqgcBZA" alt="">
                    <img src="https://cdn.oasr.in/oa-site/cms-uploads/media/SBI_logo_new_3cd6b90057.png" alt="">
                    <img src="//cdn.prod.website-files.com/6145f7156a1337613524d548/62ebb5454447c185f1c58ea8_Health-india-tpa-1.jpg" alt="">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTKRO_YHaPk0P3ucN04-RWQIRqFZo7xTtz-WQ&s" alt="">
                    <img src="https://cdn.prod.website-files.com/6145f7156a1337613524d548/63f45bf57df68f599b344a05_logo__Acko.png" alt="">
                    <img src="https://healthysure.in/wp-content/uploads/2023/07/png-clipart-logo-brand-public-relations-product-icici-lombard-travel-insurance-text-public-relations-removebg-preview.png" alt="">
                    <img src="https://cdn.policyx.com/cms-media/apollo-munich-health-insurance-logo-web2876-1728020579.webp" alt="">
                    <img src="https://cdn.prod.website-files.com/6145f7156a1337613524d548/632085aeaf68ca0fe183d5b2_TPA__safeway.png" alt="">
                    <img src="https://5.imimg.com/data5/SELLER/Default/2024/6/425895977/PZ/MT/RV/149898913/2560px-reliance-general-insurance-svg.png" alt="">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUA7Ur0Turi441GiVfuBGNch260XZrdEHSHA&s" alt="">
                    <img src="https://m.economictimes.com/thumb/msid-73152868,width-1200,height-900,resizemode-4,imgsize-145233/bajaj-allianz-general-insurance.jpg" alt="">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSllPs93kRZNQAFsq1HqrMw50rBXWFaqkLo776dnPXYVwUXMd9x6SownOXoQYNP3D0uCIA&usqp=CAU" alt="">
                    <img src="https://www.goodmoneying.com/wp-content/uploads/2012/07/126.Max-Bupa.png" alt="">
                    <img src="https://profitmust.com/wp-content/uploads/2021/07/Star-Health-IPO.jpg" alt="">  
                    </div>
            </div>
        </div>
            <div class="link">
                <div class="link1">
                    <img src="https://brijeshbangerhospital.com/images/vlogobg.png" alt="BBMH.img">
                    <p>
                        BBMH Hospital has steadily grown to provide such care to not just the local community, but also the international patients.</p>
                </div>
                <div class="link2">
                    <h4>Useful Links</h4>
                    <div>
                        <ul>
                            <li><a href="/aboutBBMH">About Hospital</a></li>
                            <li><a href="/doctors">Our Doctors</a></li>
                            <li><a href="/blogs">Blog</a></li>
                            <li><a href="/news">News & Media</a></li>
                            <li><a href="/appointment">Contact Us</a></li>
                        </ul>
                    </div>
                </div>
                <div class="link2">
                    <h4>Our Departments</h4>
                    <div>
                        <ul>
                            <li><a href="/Gynecology">Gynaecology</a></li>
                            <li><a href="/Neurosurgery">Neurosurgery</a></li>
                            <li><a href="/Plasticsurgery">Plastic Surgery</a></li>
                            <li><a href="/Urology">Urology</a></li>
                            <li><a href="/ent">ENT</a></li>
                        </ul>
                    </div>
                </div>
                <div class="link2">
                    <h4>Contact Us</h4>
                    <div>
                        <ul>
                            <li><h6><i class="fa-solid fa-location-dot"></i> R C Vyas Colony, Bhilwara, Rajasthan 311001 </h6></li>
                            <li><h6><i class="fa-solid fa-phone"></i> +0139194932</h6></li>
                            <li><h6><i class="fa-solid fa-envelope"></i> BangarHospital@gamil.com</h6></li>
                        </ul>
                    </div>
                </div>
            </div>
            <p>⚠️ Disclaimer: The information on the Web Site is provided for informational purposes only and is not meant to substitute the advice provided by our doctor or other health care professional. You should not use the information available on or through the Web Site for treating a health problem or disease or prescribing any medication. All images used on this website are for illustrative purposes only,</p>
        </div>
        <div class="rights"><h6>&copy; 2025 BBMH Bhilwara. All Rights Reserved.</h6></div>

    <script >
        (() => {
    'use strict'
    const forms = document.querySelectorAll('.needs-validation')
    Array.from(forms).forEach(form => {
      form.addEventListener('submit', event => {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }
        form.classList.add('was-validated')
      }, false)
    })
  })();
    </script>
      
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js" integrity="sha512-onMTRKJBKz8M1TnqqDuGBlowlH0ohFzMXYRNebz+yOcc5TQr/zAKsthzhuv0hiyUKEiQEQXEynnXCvNTOk50dg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="index.js"></script>  
    <script src="phonenootp.js"></script>
    </body>
</html>
